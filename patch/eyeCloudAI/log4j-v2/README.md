## 1. 패치 대상 모듈
1. log-filter
2. job-executor
3. job-scheduler

## 2. 패치 대상 파일
1. 파일

|     | 기존파일                            | 패치파일                            |                                                                                                                     |
|:----|:--------------------------------|:--------------------------------|:--------------------------------------------------------------------------------------------------------------------|
| 1   | log4j-1.2-api-**2.13.0**.jar    | log4j-1.2-api-**2.17.0**.jar    | [다운로드](https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-1.2-api/2.17.0/log4j-1.2-api-2.17.0.jar)       |
| 2   | log4j-api-**2.13.0**.jar        | log4j-api-**2.17.0**.jar        | [다운로드](https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-api/2.17.0/log4j-api-2.17.0.jar)               |
| 3   | log4j-core-**2.13.0**.jar       | log4j-core-**2.17.0**.jar       | [다운로드](https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-core/2.17.0/log4j-core-2.17.0.jar)             |
| 4   | log4j-slf4j-impl-**2.13.0**.jar | log4j-slf4j-impl-**2.17.0**.jar | [다운로드](https://repo1.maven.org/maven2/org/apache/logging/log4j/log4j-slf4j-impl/2.17.0/log4j-slf4j-impl-2.17.0.jar) |
| 5   | slf4j-api-**1.7.25**.jar        | slf4j-api-**1.7.32**.jar        | [다운로드](https://repo1.maven.org/maven2/org/slf4j/slf4j-api/1.7.32/slf4j-api-1.7.32.jar)                              |

2. 경로
 - **위 기존파일을 삭제 또는 백업 후 패치파일을 아래 경로에 업로드 합니다.**

|     | 모듈              | 경로                      |
|:----|:----------------|:------------------------|
| 1   | log-filter      | /eyeCloudAI/app/lib     |
| 2   | job-executor    | /eyeCloudAI/app/job/lib |
| 3   | job-scheduler   | /eyeCloudAI/app/job/lib |

3. 클래스 패스 설정 파일

|     | 모듈              | 파일                                        |
|:----|:----------------|:------------------------------------------|
| 1   | log-filter      | /eyeCloudAI/app/lib/lib_log-filter        |
| 2   | job-executor    | /eyeCloudAI/app/job/executor/executor.sh  |
| 3   | job-scheduler   | /eyeCloudAI/app/job/executor/scheduler.sh |
 
## 3. 클래스패스 수정
- vi 편집기를 이용해 각 모듈의 클래스패스를 수정합니다.
1. log-filter
```bash
$ vi /eyeCloudAI/app/lib/lib_log-filter
CLASSPATH=../lib/antlr4-runtime-4.7.1.jar:..중략..:../lib/log4j-1.2-api-2.13.0.jar:..
```
2. job-executor
```bash
$ vi /eyeCloudAI/app/job/executor/executor.sh 
#!/bin/bash
..중략..
CLASSPATH=${CLASSPATH}:${LIB_PATH}/log4j-1.2.16.jar
CLASSPATH=${CLASSPATH}:${LIB_PATH}/log4j-1.2-api-2.13.0.jar
```
3. job-scheduler
```bash
$ vi /eyeCloudAI/app/job/executor/executor.sh 
#!/bin/bash
..중략..
CLASSPATH=${CLASSPATH}:${LIB_PATH}/log4j-1.2.16.jar
CLASSPATH=${CLASSPATH}:${LIB_PATH}/log4j-1.2-api-2.13.0.jar
```
- **log4j-1.2.16.jar 파일은 클래스패스에서 제거 합니다.**

## 4. 모듈 재시작
1. log-filter
```bash
$ cd /eyeCloudAI/app/log-filter
$ ./log-filter.sh stop
$ ./log-filter.sh start
```
2. job-executor
```bash
$ cd /eyeCloudAI/app/job/executor
$ ./executor.sh stop
$ ./executor.sh start
```
3. job-scheduler
```bash
$ cd /eyeCloudAI/app/job/scheduler
$ ./scheduler.sh stop
$ ./scheduler.sh start
```